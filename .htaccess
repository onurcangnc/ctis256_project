RewriteEngine On

# HTTP'den HTTPS'ye Yönlendirme
RewriteCond %{HTTP:X-Forwarded-Proto} !https
RewriteCond %{HTTPS} off
RewriteCond %{HTTP:CF-Visitor} !{"scheme":"https"}
RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

# Sorgu Dizgisindeki 'i' Parametresini Temizleme
RewriteCond %{QUERY_STRING} ^(.*)i=[^&]+(.*)$ [NC]
RewriteRule ^(.*)$ /$1?%1%2 [R=301,L]

# Ana Dizin Yönlendirme
RewriteCond %{REQUEST_URI} ^/$
RewriteRule ^$ /login.php [L,R=301]

# Belirli Dosya Türlerine İzin Verme
<FilesMatch "\.(css|js|jpg|jpeg|png|gif|ico)$">
    Header set Access-Control-Allow-Origin "*"
</FilesMatch>

# Güvenlik Başlıkları
Header set X-Content-Type-Options "nosniff"
Header always append X-Frame-Options DENY
Header set X-XSS-Protection "1; mode=block"
# Header set Content-Security-Policy "default-src 'self'; script-src 'self' https://maxcdn.bootstrapcdn.com; style-src 'self' https://maxcdn.bootstrapcdn.com"
Header set Referrer-Policy "no-referrer"

